<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>MadWizard\WebAuthn\Json\JsonConverter | WebAuthn PHP server documentation</title>

            <link rel="stylesheet" type="text/css" href="../../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/sami.css">
        <script src="../../../js/jquery-1.11.1.min.js"></script>
        <script src="../../../js/bootstrap.min.js"></script>
        <script src="../../../js/typeahead.min.js"></script>
        <script src="../../../sami.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    
    
    </head>

    <body id="class" data-name="class:MadWizard_WebAuthn_Json_JsonConverter" data-root-path="../../../">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <script>
            $('option[data-version="'+window.projectVersion+'"]').prop('selected', true);
        </script>
        <form id="search-form" action="../../../search.html" method="GET">
            <span class="glyphicon glyphicon-search"></span>
            <input name="search"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search">
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../../index.html">WebAuthn PHP server documentation</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../../classes.html">Classes</a></li>
                                            <li><a href="../../../namespaces.html">Namespaces</a></li>
                                        <li><a href="../../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../../traits.html">Traits</a></li>
                    <li><a href="../../../doc-index.html">Index</a></li>
                    <li><a href="../../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                        <li><a href="../../../MadWizard.html">MadWizard</a></li><li class="backslash">\</li><li><a href="../../../MadWizard/WebAuthn.html">WebAuthn</a></li><li class="backslash">\</li><li><a href="../../../MadWizard/WebAuthn/Json.html">Json</a></li><li class="backslash">\</li><li>JsonConverter</li>
            </ol>
        </div>
                <div id="page-content">
                
    <div class="page-header">
        <h1>
            JsonConverter
                
        </h1>
    </div>

    <p>    class
    <strong>JsonConverter</strong>        (<a href="https://github.com/madwizard-thomas/webauthn-server/blob/master/src/Json/JsonConverter.php">View source</a>)
</p>

        
    

    
    
            <h2>Constants</h2>

            <table class="table table-condensed">
                    <tr>
                <td>ENCODE_PREFIX</td>
                <td class="last">
                    <p><em>Prefix keys of ByteBuffers with <code>#prefix#</code></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>ENCODE_BASE64</td>
                <td class="last">
                    <p><em>Encode ByteBuffers as base64 strings instead of base64url</em></p>
                    <p></p>
                </td>
            </tr>
            </table>

    
    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;<a href="../../../MadWizard/WebAuthn/Dom/PublicKeyCredential.html"><abbr title="MadWizard\WebAuthn\Dom\PublicKeyCredential">PublicKeyCredential</abbr></a>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_decodeCredential">decodeCredential</a>(string $json, string $responseType)
        
                                            <p>Parses a JSON string containing a credential returned from the JS credential API's credentials.get or
credentials.create. The JSOn structure matches the PublicKeyCredential interface from the WebAuthn specifications
closely but since it contains ArrayBuffers it cannot be directly converted to a JSON equivalent. Fields that
are ArrayBuffers are assumed to be base64url encoded.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;
                </div>
                <div class="col-md-8 type">
                    <a href="#method_decodeAttestationCredential">decodeAttestationCredential</a>(string $json)
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;
                </div>
                <div class="col-md-8 type">
                    <a href="#method_decodeAssertionCredential">decodeAssertionCredential</a>(string $json)
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;
                </div>
                <div class="col-md-8 type">
                    <a href="#method_encodeDictionary">encodeDictionary</a>(<a href="../../../MadWizard/WebAuthn/Dom/DictionaryInterface.html"><abbr title="MadWizard\WebAuthn\Dom\DictionaryInterface">DictionaryInterface</abbr></a> $dictionary)
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method_decodeCredential">
        <div class="location">at         <a href="https://github.com/madwizard-thomas/webauthn-server/blob/master/src/Json/JsonConverter.php#L79">line 79</a></div>
        <code>        static            <a href="../../../MadWizard/WebAuthn/Dom/PublicKeyCredential.html"><abbr title="MadWizard\WebAuthn\Dom\PublicKeyCredential">PublicKeyCredential</abbr></a>
    <strong>decodeCredential</strong>(string $json, string $responseType)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Parses a JSON string containing a credential returned from the JS credential API's credentials.get or
credentials.create. The JSOn structure matches the PublicKeyCredential interface from the WebAuthn specifications
closely but since it contains ArrayBuffers it cannot be directly converted to a JSON equivalent. Fields that
are ArrayBuffers are assumed to be base64url encoded.</p>                    <p>Also, the response field of the PublicKeyCredential can contain either an attestation or assertion response.
To determine which one to parse the $responseType parameter must be set to 'attestation' or 'assertion'.</p>

<p>The required JSON structure is:</p>

<pre><code>{
  "type": "public-key",
  "id": "base64url encoded ArrayBuffer",
  "response" : &lt;&lt; authenticator response &gt;&gt;,
  "getClientExtensionResults" : &lt;&lt; output of credential.getClientExtensionResults() &gt;&gt;
}
</code></pre>

<p>Where the authenticator response for attestation is:</p>

<pre><code>{
  attestationObject: "base64url encoded ArrayBuffer"
}
</code></pre>

<p>and for assertion response is:</p>

<pre><code>{
  authenticatorData : "base64url encoded ArrayBuffer",
  signature: "base64url encoded ArrayBuffer",
  userHandle: "base64url encoded ArrayBuffer"
}
</code></pre>
</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$json</td>
                <td></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$responseType</td>
                <td>Expected type of response in the public key's response field.
Either 'attestation' for attestation responses or 'assertion' for assertion responses.</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a href="../../../MadWizard/WebAuthn/Dom/PublicKeyCredential.html"><abbr title="MadWizard\WebAuthn\Dom\PublicKeyCredential">PublicKeyCredential</abbr></a></td>
            <td></td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../../MadWizard/WebAuthn/Exception/ParseException.html"><abbr title="MadWizard\WebAuthn\Exception\ParseException">ParseException</abbr></a></td>
                <td></td>
            </tr>
            </table>

            
                            <h4>See also</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>
                                            <a href="https://www.w3.org/TR/webauthn/#publickeycredential">https://www.w3.org/TR/webauthn/#publickeycredential</a>
                                    </td>
                <td></td>
            </tr>
            </table>

                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_decodeAttestationCredential">
        <div class="location">at         <a href="https://github.com/madwizard-thomas/webauthn-server/blob/master/src/Json/JsonConverter.php#L113">line 113</a></div>
        <code>        static            
    <strong>decodeAttestationCredential</strong>(string $json)
        </code>
    </h3>
    <div class="details">
            
    

                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$json</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_decodeAssertionCredential">
        <div class="location">at         <a href="https://github.com/madwizard-thomas/webauthn-server/blob/master/src/Json/JsonConverter.php#L118">line 118</a></div>
        <code>        static            
    <strong>decodeAssertionCredential</strong>(string $json)
        </code>
    </h3>
    <div class="details">
            
    

                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$json</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_encodeDictionary">
        <div class="location">at         <a href="https://github.com/madwizard-thomas/webauthn-server/blob/master/src/Json/JsonConverter.php#L182">line 182</a></div>
        <code>        static            
    <strong>encodeDictionary</strong>(<a href="../../../MadWizard/WebAuthn/Dom/DictionaryInterface.html"><abbr title="MadWizard\WebAuthn\Dom\DictionaryInterface">DictionaryInterface</abbr></a> $dictionary)
        </code>
    </h3>
    <div class="details">
            
    

                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../../MadWizard/WebAuthn/Dom/DictionaryInterface.html"><abbr title="MadWizard\WebAuthn\Dom\DictionaryInterface">DictionaryInterface</abbr></a></td>
                <td>$dictionary</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
            </div>

    
            </div>
                <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/">Sami, the API Documentation Generator</a>.
    </div>

        </div>
    </div>
    </body>

</html>
